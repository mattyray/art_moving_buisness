{% extends "base.html" %}
{% block title %}Clients{% endblock %}
{% block content %}
<div class="container">
  <h2 class="mb-4">Clients</h2>
  
  <!-- Search Bar -->
  <form method="get" class="mb-4">
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Search by client name..." value="{{ query }}">
      <button type="submit" class="btn btn-primary">Search</button>
    </div>
  </form>
  
  <a href="{% url 'client_create' %}" class="btn btn-success mb-3">Add New Client</a>

  <!-- Responsive Scrollable Table -->
  <div class="card shadow-sm">
    <div class="card-body table-responsive">
      <table class="table table-striped align-middle">
        <thead class="small">
          <tr>
            <th style="min-width: 120px;">Name</th>
            <th style="min-width: 180px;">Email</th>
            <th style="min-width: 120px;">Phone</th>
            <th style="min-width: 250px;">Address</th>
          </tr>
        </thead>
        <tbody>
          {% for client in clients %}
          <tr>
            <td class="text-truncate" style="max-width: 150px;">
              <a href="{% url 'client_detail' client.id %}">{{ client.name }}</a>
            </td>
            <td class="text-truncate" style="max-width: 200px;">{{ client.email }}</td>
            <td class="text-truncate" style="max-width: 150px;">{{ client.phone }}</td>
            <td class="text-truncate" style="max-width: 300px;">{{ client.address }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="4">No clients found.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
